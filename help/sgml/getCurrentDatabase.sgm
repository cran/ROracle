<!doctype s-function-doc system "s-function-doc.dtd" [
<!entity % S-OLD "INCLUDE">
]
>
<s-function-doc>
<s-topics>
<s-topic> metaData </s-topic>
<s-topic> getVersion </s-topic>
<s-topic> getDatabases </s-topic>
<s-topic> getCurrentDatabase </s-topic>
<s-topic> getDBconnection </s-topic>
<s-topic> getException </s-topic>
<s-topic> getResultSet </s-topic>
<s-topic> getTables </s-topic>
<s-topic> getTableIndeces </s-topic>
<s-topic> getFields </s-topic>
<s-topic> getStatement </s-topic>
<s-topic> hasCompleted </s-topic>
<s-topic> getRowCount </s-topic>
<s-topic> getRowsAffected </s-topic>
<s-topic> getNullOk </s-topic>
<s-topic> getInfo </s-topic>
</s-topics>
<s-title>
R/S database interface meta-data
</s-title>
<s-description>
Extract meta-data associated with various objects
</s-description>
<s-usage>
<s-old-style-usage>
getVersion(mgr)
getDatabases(mgr, dbname)
getCurrentDatabase(con)
getTables(mgr, dbname)
getTableIndeces(mgr, dbname)
getException(con)
getResultSet(con)
getStatement(rs)
getDBconnection(rs)
getFields(rs)
getFileds(dbobject, table, dbname)
hasCompleted(rs)
getRowCount(rs)
getRowsAffected(rs)
getNullOk(rs)
getInfo(dbObject, what)
</s-old-style-usage>
</s-usage>
<s-args-required>
  <s-arg name= dbObject >
  any object that implements some functionality in the R/S
  interface to databases (e.g., <s-class>dbManager</s-class>,
  <s-class>dbConnection</s-class>).
  </s-arg>
  <s-arg name = mgr>
  refers to a <s-class>dbManager</s-class> object.
  </s-arg>
  <s-arg name = con>
  refers to a <s-class>dbConnection</s-class> object.
  </s-arg>
  <s-arg name = rs>
  refers to a <s-class>resultSet</s-class> object.
  </s-arg>
</s-args-required>
<s-args-optional>
  <s-arg name = "dbname">
  refers to a database name (instance) on the server.
  </s-arg>
  <s-arg name = "table">
  refers to a table name in either the current database or 
  in <s-expression>dbname</s-expression>.
  </s-arg>
</s-args-optional>
<s-value>
either a character vector or a named list of meta-data objects.
</s-value>
<s-details>
These functions implement a minimal set of more or less
obvious meta-data describing the most important aspects of
the R/S to RDBMS interface.
<p>
The <s-function name=getInfo>getInfo</s-function> works very similarly 
to the function <s-function name = "options.sgm">options</s-function> 
in that it attempts to 
extract what the user may request, possibly NULL if it can't
locate the specific piece of meta-data.
</s-details>
<s-section name = "REFERENCES">
See <url name = "The Omega Project for Statistical Computing"
             url = "http://www.omegahat.org">
for more details on the R/S database interface.
</s-section>
<s-see>
<descrip>
<tag>On database managers:</tag><p>
<s-function name="dbManager.sgm">dbManager</s-function>
<s-function name="MySQL.sgm">MySQL</s-function>
<s-function name="Oracle.sgm">Oracle</s-function>
<s-function name="load.sgm">load</s-function>
<s-function name="unload.sgm">unload</s-function>
<tag>On connections, SQL statements and resultSets:</tag><p>
<s-function name="dbExecStatement.sgm">dbExecStatement</s-function>
<s-function name="dbExec.sgm">dbExec</s-function>
<s-function name="fetch.sgm">fetch</s-function>
<s-function name="quickSQL.sgm">quickSQL</s-function>
<tag>On transaction management:</tag><p>
<s-function name="commit.sgm">commit</s-function>
<s-function name="rollback.sgm">rollback</s-function>
<tag>On meta-data:</tag><p>
<s-function name="describe.sgm">describe</s-function>
<s-function name="getVersion.sgm">getVersion</s-function>
<s-function name="getDatabases.sgm">getDatabases</s-function>
<s-function name="getTables.sgm">getTables</s-function>
<s-function name="getFields.sgm">getFields</s-function>
<s-function name="getCurrentDatabase.sgm">getCurrentDatabase</s-function>
<s-function name="getTableIndeces.sgm">getTableIndeces</s-function>
<s-function name="getException.sgm">getException</s-function>
<s-function name="getStatement.sgm">getStatement</s-function>
<s-function name="hasCompleted.sgm">hasCompleted</s-function>
<s-function name="getRowCount.sgm">getRowCount</s-function>
<s-function name="getAffectedRows.sgm">getAffectedRows</s-function>
<s-function name="getNullOk.sgm">getNullOk</s-function>
<s-function name="getInfo.sgm">getInfo</s-function>
</descrip>
</s-see>
<s-examples>
<s-example>

m <- dbManager(dbms)

# Extract meta-data information.  What MySQL databases are there 
# available on host "wyner"

> getDatabases(m, host = "wyner")
   Database 
1     mysql
2      opto
3      test
4 iptraffic
5     fraud

</s-example>
<s-example>
# What tables are there in the "opto" database? 

> dbTables(m, dbname = "opto", host = "wyner")
  Tables in opto 
1           PBCT
2          PURGE
3             WL
4          liv25
5          liv85

</s-example>
<s-example>
# let's look at some result set meta-data

> con <- dbConnect(m)
> rs <- dbExecStatement(con, query.sql)

> getStatement(rs)
[1] "show tables"

> hasCompleted(rs)
[1] 0

> getRowCount(rs)
[1] 3

</s-example>
<s-example>
> info <- getInfo(rs)
> names(info)
[1] "statement"     "isSelect"        "rowsAffected"     
[4] "rowCount"     "completed"    "fieldDescription"
> getStatement(rs)
[1] "show tables"

</s-example>
<s-example>
# the following are pieces of meta-data associated with 
# the R/S DBI implementation, versions for the various pieces 
# of software (client, server, interface), etc.

# dbManager object

> names(getInfo(m))  
[1] "connectionIds"     "fetch_default_rec"
[3] "managerId"         "length"           
[5] "num_con"           "counter"          
[7] "clientVersion"    

#  dbConnection object

> names(getInfo(con))
[1] "host"            "user"           
[3] "dbname"          "conType"        
[5] "serverVersion"   "protocolVersion"
[7] "threadId"        "rsId"           

# resultSet object

> names(getInfo(rs)) 
[1] "statement"        "isSelect"        
[3] "rowsAffected"     "rowCount"        
[5] "completed"        "fieldDescription"
</s-example>
</s-examples>
<s-keywords>
<s-keyword>
<s-keyword>RS-DBI</s-keyword>
<s-keyword>MySQL</s-keyword>
<s-keyword>databases</s-keyword>
<s-keyword>RDBMS</s-keyword>
<s-keyword>manip</s-keyword>
<s-keyword>
</s-keyword>
</s-keywords>
<s-docclass>
function
</s-docclass>
</s-function-doc>
